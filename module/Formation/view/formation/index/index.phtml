<?php

/**
 * @see \Formation\Controller\IndexController::indexAction()
 * @var User $user
 * @var Role $role
 * @var Rendu $rendu
 */

use UnicaenRenderer\Entity\Db\Rendu;
use UnicaenUtilisateur\Entity\Db\Role;
use UnicaenUtilisateur\Entity\Db\User;

?>

<?php //echo $this->alertes()->withMatchingPlanning()->renderAsBootstrapAlerts(); ?>

<div class="jumbotron" id="preecog">
    <div class="row">
        <div class="col-md-5">
            <div class="jumbo-title">
                <span class='text-mesformations'>
                    Mes formations
                </span>
            </div>

            <div style="font-size: large">
                Outils de gestion des formations du personnel
            </div>

            <br/>

            <div>
                <?php if ($user): ?>
                    <p>
                        Vous êtes connecté&middot;e en tant que <strong><?php echo $user->getDisplayName(); ?></strong>. <br/>
                        Vous assumez le rôle de <strong><?php echo ($role)?$role->getLibelle():"???"; ?></strong>.
                    </p>
                <?php else: ?>

                    <a class="btn btn-success btn-large" href="<?php echo $this->url('zfcuser/login') ?>">
                        <span class="icon icon-user"></span>
                        <?php echo $this->translate('Se connecter') ?>
                    </a>
                <?php endif; ?>
            </div>
        </div>
        <div class="col-md-7">
            <?php if ($rendu->getSujet() !== null && trim($rendu->getSujet()) !== '') : ?>
                <h2> <?php echo $rendu->getSujet(); ?> </h2>
            <?php endif; ?>
            <?php if ($rendu->getCorps() !== null && trim($rendu->getCorps()) !== '') : ?>
                <?php echo $rendu->getCorps(); ?>
            <?php endif; ?>
        </div>
    </div>

</div>

<style>
    div.jumbotron {
        margin-top: auto;
        margin-bottom: auto;
        border-radius: 0.5rem ;
        padding: 1rem;
    }
    div#contenu-principal {
        background: var(--body-background);
    }

    div#preecog {
        border: 1px var(--body-color) solid;
        background: var(--content-background);
        margin: 1rem;
    }

    .jumbo-title {
        font-size: xx-large;
        font-weight: bold;
        vertical-align: top;
        width:49%;
        display:block;
    }


    @media (min-width: 0) and (max-width: 767px) {
        .jumbo-title {
            width:100%;
            text-align: left;
            padding-left: 2rem;
        }
    }
</style>