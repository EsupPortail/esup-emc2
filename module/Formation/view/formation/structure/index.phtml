<?php

/**
 * @see \Formation\Controller\StructureController::indexAction()
 * @var Structure[] $structures
 */

use Structure\Entity\Db\Structure;

$this->headTitle("Structures");

?>

<h1 class="page-header">
    Structures
</h1>

<table class="table table-condensed table-hover">
    <thead>
        <tr>
            <th> Structure </th>
            <th> Type </th>
            <th class="action"> Action </th>
        </tr>
    </thead>
    <tbody>
        <?php // TODO VIEWHELPER DE STRUCTURE, DE TYPE ?>
        <?php foreach ($structures as $chemin =>  $structure) : ?>
        <tr>
            <td>
                [<?php echo $structure->getLibelleCourt(); ?>] <?php echo $structure->getLibelleLong(); ?>
                <br/>
                <?php echo $chemin; ?>
            </td>
            <td> <?php echo ($structure->getType())?$structure->getType()->getLibelle():"Aucun type connu"; ?></td>
            <td class="action">
                <a href="<?php echo $this->url('formation/structure', ['structure' => $structure->getId()], [], true); ?>">
                    <span class="icon icon-voir"></span>
                    Acc√©der
                </a>
            </td>
        </tr>
        <?php endforeach; ?>
    </tbody>
</table>

<style>
    th.action {
        width: 8rem;
    }
</style>