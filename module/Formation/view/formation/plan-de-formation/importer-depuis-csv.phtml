<?php

/**
 * @see \Formation\Controller\PlanDeFormationController::importerDepuisCsvAction()
 * @var string $title
 * @var PlanDeFormationImportationForm $form
 * @var string[] $error
 * @var string[] $warning
 * @var Agent[] $agents
 * @var array $array
 */

use Application\Entity\Db\Agent;
use Formation\Form\PlanDeFormationImportation\PlanDeFormationImportationForm;


?>

<div class="alert alert-info">
    <span class="icon icon-information"></span>
    Attention les axes, thèmes, actions et domaines sont identifiant grâce à la première ligne du fichier.
    Assurez vous d'avoir correctement rempli cette première ligne avec les termes <code>Axe</code>, <code>Theme</code>, <code>Action</code> et <code>Domaine</code>.

</div>

<?php echo $this->form($form); ?>

<?php if (!empty($error)) : ?>
    <div class="alert alert-danger">
        <span class="icon icon-attention"></span>
        <?php echo implode('<br>', $error); ?>
    </div>
<?php else : ?>

    <?php if (!empty($warning)) : ?>
        <div class="alert alert-warning">
            <ul>
                <?php foreach ($warning as $item) : ?>
                    <li> <?php echo $item; ?> </li>
                <?php endforeach; ?>
            </ul>
        </div>
    <?php endif; ?>

    <?php if (isset($array)) : ?>
        <table class="table table-condensed">
            <thead>
            <tr>
                <th> Axe </th>
                <th> Thème </th>
                <th> Domaine </th>
                <th> Action </th>
                <th> Complèment </th>
            </tr>
            </thead>
            <tbody>
            <?php foreach ($array as $line) : ?>
                <tr>
                    <td> <?php echo $line[0]; ?> </td>
                    <td> <?php echo $line[1]; ?> </td>
                    <td> <?php echo $line[2]; ?> </td>
                    <td> <?php echo $line[3]; ?> </td>
                    <td>  </td>
                </tr>
            <?php endforeach; ?>
            </tbody>
        </table>
    <?php endif; ?>
<?php endif; ?>
