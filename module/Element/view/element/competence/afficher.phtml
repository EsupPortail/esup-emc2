<?php

/**
 * @see CompetenceController::afficherAction()
 *
 * @var Competence $competence
 * @var FicheMetier[] $fiches
 * @var Agent[] $agents
 */

use Application\Entity\Db\Agent;
use Element\Entity\Db\Competence;
use FicheMetier\Entity\Db\FicheMetier;
use FicheMetier\Entity\Db\Mission;

?>

<dl class="row">
    <dt class="col-md-4"> Libellé </dt>
    <dd class="col-md-8"> <?php echo $competence->getLibelle(); ?> </dd>
    <dt class="col-md-4"> Type </dt>
    <dd class="col-md-8"> <?php echo ($competence->getType())?$competence->getType()->getLibelle():"Aucun"; ?> </dd>
    <dt class="col-md-4"> Thème </dt>
    <dd class="col-md-8"> <?php echo ($competence->getTheme())?$competence->getTheme()->getLibelle():"Aucun"; ?> </dd>
    <dt class="col-md-4"> Description </dt>
    <dd class="col-md-8"> <?php echo $competence->getDescription(); ?> </dd>
    <dt class="col-md-4"> Référence </dt>
    <dd class="col-md-8">
        <?php echo ($competence->getReferentiel())?$competence->printReference():"Aucun"; ?>
    </dd>
    <dt class="col-md-4"> Fiche·s metier·s </dt>
    <dd class="col-md-8">
        <!-- Nombre de fiches metiers : -->
        <?php echo count($fiches); ?> fiche·s métier·s
        <ul>
            <?php foreach ($fiches as $fiche) : ?>
                <li> <?php echo $fiche->getMetier()->getLibelle(); ?> (#<?php echo $fiche->getId(); ?>)</li>
            <?php endforeach; ?>
        </ul>
    </dd>
</dl>

<h2>  Agents ayant en acquis la compétence </h2>

<ul>
    <?php foreach($agents as $agent): ?>
        <li> <?php echo $agent->getDenomination(true); ?> </li>
    <?php endforeach; ?>
</ul>
