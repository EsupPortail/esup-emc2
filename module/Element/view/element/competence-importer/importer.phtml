<?php

/**
 * @see \Element\Controller\CompetenceImporterController::importerAction()
 * @var string $title
 * @var CompetenceImportationForm $form
 * @var string[] $error
 * @var string[] $warning
 * @var Agent[] $agents
 * @var array $array
 */

use Application\Entity\Db\Agent;
use Element\Form\CompetenceImportation\CompetenceImportationForm;


?>

<?php echo $this->form($form); ?>

<?php if (!empty($error)) : ?>
    <div class="alert alert-danger">
        <span class="icon icon-attention"></span>
        <?php echo implode('<br>', $error); ?>
    </div>
<?php else : ?>

    <?php if (!empty($warning)) : ?>
        <div class="alert alert-warning">
            <ul>
                <?php foreach ($warning as $item) : ?>
                    <li> <?php echo $item; ?> </li>
                <?php endforeach; ?>
            </ul>
        </div>
    <?php endif; ?>

    <?php if (isset($array)) : ?>
        <table class="table table-condensed">
            <thead>
            <tr>
                <th> Compétence </th>
                <th> Type</th>
                <th> Thèmes</th>
                <th style='width:50%;'> Description </th>
            </tr>
            </thead>
            <tbody>
            <?php foreach ($array as $line) : ?>
                <tr>
                    <td> <?php echo $line[2]; ?> </td>
                    <td> <?php echo $line[1]; ?> </td>
                    <td> <?php echo $line[0]; ?> </td>
                    <td> <?php echo $line[3]; ?> </td>
                </tr>
            <?php endforeach; ?>
            </tbody>
        </table>
    <?php endif; ?>
<?php endif; ?>
