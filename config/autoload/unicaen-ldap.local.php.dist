<?php

return [
    'unicaen-ldap' => [
        'host' => 'ldap.XXXX.XX',
        'username' => "uid=XXXX,ou=system,dc=XXXXX,dc=fr",
        'password' => "XXXX",
        'baseDn' => "ou=people,dc=XXXXX,dc=fr",
        'bindRequiresDn' => true,
        //dÃ©-commenter la ligne correspondant Ã  votre situation
//        'accountFilterFormat' => "(&(objectClass=posixAccount)(supannAliasLogin=%s))",
//        'accountFilterFormat' => "(&(objectClass=posixAccount)(uid=%s))",
        'port' => 389,
    ],

    'unicaen-app' => [
        'ldap' => [
            'connection' => [
                'default' => [
                    'params' => [
                        'host' => 'ldap.unicaen.fr',
                        'username' => "uid=XXX,ou=system,dc=XXX,dc=fr",
                        'password' => "XXXX",
                        'baseDn' => "ou=people,dc=XXX,dc=fr",
                        'bindRequiresDn' => true,
                        'accountFilterFormat' => "(&(objectClass=posixAccount)(supannAliasLogin=%s))",
                        'port' => 389,
                    ]
                ]
            ],

            'dn' => [
                'UTILISATEURS_BASE_DN' => 'ou=people,dc=unicaen,dc=fr',
                'UTILISATEURS_DESACTIVES_BASE_DN' => 'ou=deactivated,dc=unicaen,dc=fr',
                'GROUPS_BASE_DN' => 'ou=groups,dc=unicaen,dc=fr',
                'STRUCTURES_BASE_DN' => 'ou=structures,dc=unicaen,dc=fr',
            ],
            'filters' => [
                'LOGIN_FILTER' => '(supannAliasLogin=%s)',
                'UTILISATEUR_STD_FILTER' => '(|(uid=p*)(&(uid=e*)(eduPersonAffiliation=student)))',
                'CN_FILTER' => '(cn=%s)',
                'NAME_FILTER' => '(cn=%s*)',
                'UID_FILTER' => '(uid=%s)',
                'NO_INDIVIDU_FILTER' => '(supannEmpId=%08s)',
                'AFFECTATION_FILTER' => '(&(uid=*)(eduPersonOrgUnitDN=%s))',
                'AFFECTATION_CSTRUCT_FILTER' => '(&(uid=*)(|(ucbnSousStructure=%s;*)(supannAffectation=%s;*)))',
                'LOGIN_OR_NAME_FILTER' => '(|(supannAliasLogin=%s)(cn=%s*))',
                'MEMBERSHIP_FILTER' => '(memberOf=%s)',
                'AFFECTATION_ORG_UNIT_FILTER' => '(eduPersonOrgUnitDN=%s)',
                'AFFECTATION_ORG_UNIT_PRIMARY_FILTER' => '(eduPersonPrimaryOrgUnitDN=%s)',
                'ROLE_FILTER' => '(supannRoleEntite=[role={SUPANN}%s][type={SUPANN}%s][code=%s]*)',
                'PROF_STRUCTURE' => '(&(eduPersonAffiliation=teacher)(eduPersonOrgUnitDN=%s))',
                'FILTER_STRUCTURE_DN' => '(%s)',
                'FILTER_STRUCTURE_CODE_ENTITE' => '(supannCodeEntite=%s)',
                'FILTER_STRUCTURE_CODE_ENTITE_PARENT' => '(supannCodeEntiteParent=%s)',
            ],
        ],
    ],
];
